import{r as $,v as me,n as he,o as c,c as _,u as a,a as e,b as q,d as p,e as C,w as A,f as pe,g as N,T as se,i as y,h as ve,F as L,j as B,k as R,l as G,m as v,t as x,p as H,q as M,s as j,x as oe,y as I,z as O,A as T,B as E,C as ne,D as K,E as X,G as z,H as fe,I as be,J as ge}from"./vendor.f1de89ec.js";const $e=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function i(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=i(s);fetch(s.href,o)}};$e();function ye(n={}){const{immediate:t=!1,onNeedRefresh:i,onOfflineReady:r,onRegistered:s,onRegisterError:o}=n;let l,u;const h=async(d=!0)=>{d&&(l==null||l.addEventListener("controlling",b=>{b.isUpdate&&window.location.reload()})),u&&u.waiting&&await he(u.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){l=new me("/sw.js",{scope:"/"}),l.addEventListener("activated",d=>{d.isUpdate||r==null||r()});{const d=()=>{i==null||i()};l.addEventListener("waiting",d),l.addEventListener("externalwaiting",d)}l.register({immediate:t}).then(d=>{u=d,s==null||s(d)}).catch(d=>{o==null||o(d)})}return h}function we(n={}){const{immediate:t=!0,onNeedRefresh:i,onOfflineReady:r,onRegistered:s,onRegisterError:o}=n,l=$(!1),u=$(!1);return{updateServiceWorker:ye({immediate:t,onNeedRefresh(){l.value=!0,i==null||i()},onOfflineReady(){u.value=!0,r==null||r()},onRegistered:s,onRegisterError:o}),offlineReady:u,needRefresh:l}}const xe={class:"toast-container position-absolute bottom-0 end-0 p-3",id:"toastPlacement"},ke={key:0,class:"toast showing"},Se=e("div",{class:"toast-header"},[e("strong",{class:"me-auto"},"FOHS ScoreTracker")],-1),Me={class:"toast-body"},Ce=p(" An update is available "),Le={class:"row gx-1 pt-2"},Pe={class:"col d-grid"},Ve={setup(n){const{needRefresh:t,updateServiceWorker:i}=we();async function r(){t.value=!1}return(s,o)=>(c(),_("div",xe,[a(t)?(c(),_("div",ke,[Se,e("div",Me,[Ce,e("div",Le,[e("div",Pe,[e("button",{type:"button",class:"btn btn-primary btn-sm",onClick:o[0]||(o[0]=l=>a(i)())},"Reload")]),e("div",{class:"col d-grid"},[e("button",{type:"button",class:"btn btn-secondary btn-sm",onClick:r},"Close")])])])])):q("",!0)]))}},Be={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 448 512"},Re=e("path",{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z",fill:"currentColor"},null,-1),ze=[Re];function qe(n,t){return c(),_("svg",Be,ze)}var Te={name:"fa-solid-database",render:qe};const Ae={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 448 512"},Ne=e("path",{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z",fill:"currentColor"},null,-1),Ge=[Ne];function Ie(n,t){return c(),_("svg",Ae,Ge)}var ae={name:"fa-solid-bars",render:Ie};const Oe={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 512 512"},Ee=e("path",{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z",fill:"currentColor"},null,-1),De=[Ee];function He(n,t){return c(),_("svg",Oe,De)}var je={name:"fa-solid-sign-in-alt",render:He};const Fe={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 512 512"},Ye=e("path",{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176C160 78.798 238.797.001 335.999 0C433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48s-21.49-48-48-48s-48 21.49-48 48z",fill:"currentColor"},null,-1),Ue=[Ye];function We(n,t){return c(),_("svg",Fe,Ue)}var Je={name:"fa-solid-key",render:We};const Ke={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 512 512"},Xe=e("path",{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7c22.4 17.4 52.1 39.5 154.1 113.6c21.1 15.4 56.7 47.8 92.2 47.6c35.7.3 72-32.8 92.3-47.6c102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4c132.7-96.3 142.8-104.7 173.4-128.7c5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9c30.6 23.9 40.7 32.4 173.4 128.7c16.8 12.2 50.2 41.8 73.4 41.4z",fill:"currentColor"},null,-1),Qe=[Xe];function Ze(n,t){return c(),_("svg",Ke,Qe)}var et={name:"fa-solid-envelope",render:Ze};var F=(n,t)=>{const i=n.__vccOpts||n;for(const[r,s]of t)i[r]=s;return i};const tt=p("Something went wrong"),st={props:{type:String,modelValue:Boolean},emits:["update:modelValue"],setup(n,{emit:t}){const i=n;return(r,s)=>(c(),C(se,{name:"alert"},{default:A(()=>[n.modelValue?(c(),_("div",{key:0,class:N(["alert alert-dismissible d-flex align-items-center",["alert-"+a(i).type]])},[pe(r.$slots,"default",{},()=>[tt],!0),e("button",{type:"button",class:"btn-close",onClick:s[0]||(s[0]=o=>t("update:modelValue",!1))})],2)):q("",!0)]),_:3}))}};var ot=F(st,[["__scopeId","data-v-716b3b80"]]);const nt={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 576 512"},at=e("path",{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46s46-20.595 46-46s-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z",fill:"currentColor"},null,-1),it=[at];function ct(n,t){return c(),_("svg",nt,it)}var lt={name:"fa-solid-exclamation-triangle",render:ct};const rt={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 512 512"},dt=e("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248s248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z",fill:"currentColor"},null,-1),_t=[dt];function ut(n,t){return c(),_("svg",rt,_t)}var mt={name:"fa-solid-plus-circle",render:ut};const ht={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 512 512"},pt=e("path",{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z",fill:"currentColor"},null,-1),vt=[pt];function ft(n,t){return c(),_("svg",ht,vt)}var bt={name:"fa-solid-sign-out-alt",render:ft};const gt={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 512 512"},$t=e("path",{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14c-11.1-35.6-30-67.8-54.7-94.6c-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7c-36.7-8.2-74.3-7.8-109.2 0c-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3c-24.7 26.7-43.6 58.9-54.7 94.6c-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14c11.1 35.6 30 67.8 54.7 94.6c3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7c36.7 8.2 74.3 7.8 109.2 0c5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3c24.7-26.7 43.6-58.9 54.7-94.6c1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80s80 35.9 80 80s-35.9 80-80 80z",fill:"currentColor"},null,-1),yt=[$t];function wt(n,t){return c(),_("svg",gt,yt)}var xt={name:"fa-solid-cog",render:wt};const kt={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 496 512"},St=e("path",{d:"M212.3 10.3c-43.8 6.3-86.2 24.1-122.2 53.8l77.4 77.4c27.8-35.8 43.3-81.2 44.8-131.2zM248 222L405.9 64.1c-42.4-35-93.6-53.5-145.5-56.1c-1.2 63.9-21.5 122.3-58.7 167.7L248 222zM56.1 98.1c-29.7 36-47.5 78.4-53.8 122.2c50-1.5 95.5-17 131.2-44.8L56.1 98.1zm272.2 204.2c45.3-37.1 103.7-57.4 167.7-58.7c-2.6-51.9-21.1-103.1-56.1-145.5L282 256l46.3 46.3zM248 290L90.1 447.9c42.4 34.9 93.6 53.5 145.5 56.1c1.3-64 21.6-122.4 58.7-167.7L248 290zm191.9 123.9c29.7-36 47.5-78.4 53.8-122.2c-50.1 1.6-95.5 17.1-131.2 44.8l77.4 77.4zM167.7 209.7C122.3 246.9 63.9 267.3 0 268.4c2.6 51.9 21.1 103.1 56.1 145.5L214 256l-46.3-46.3zm116 292c43.8-6.3 86.2-24.1 122.2-53.8l-77.4-77.4c-27.7 35.7-43.2 81.2-44.8 131.2z",fill:"currentColor"},null,-1),Mt=[St];function Ct(n,t){return c(),_("svg",kt,Mt)}var Lt={name:"fa-solid-basketball-ball",render:Ct};const Pt={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 576 512"},Vt=e("path",{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z",fill:"currentColor"},null,-1),Bt=[Vt];function Rt(n,t){return c(),_("svg",Pt,Bt)}var zt={name:"fa-solid-home",render:Rt};const qt={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 496 512"},Tt=e("path",{d:"M248 8C111 8 0 119 0 256s111 248 248 248s248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88s-88-39.4-88-88s39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2c18.8-35.4 55.6-59.8 98.5-59.8c2.4 0 4.8.4 7.1 1.1c13 4.2 26.6 6.9 40.9 6.9c14.3 0 28-2.7 40.9-6.9c2.3-.7 4.7-1.1 7.1-1.1c42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z",fill:"currentColor"},null,-1),At=[Tt];function Nt(n,t){return c(),_("svg",qt,At)}var Gt={name:"fa-solid-user-circle",render:Nt};const It={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 352 512"},Ot=e("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28L75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256L9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",fill:"currentColor"},null,-1),Et=[Ot];function Dt(n,t){return c(),_("svg",It,Et)}var ie={name:"fa-solid-times",render:Dt},Ht="/assets/court.7a70df28.png";const jt=["viewBox"],Ft=e("image",{href:Ht,width:"100%",height:"100%"},null,-1),Yt=["cx","cy","fill"],Q={props:{requireActive:Boolean,hideCircles:Boolean,ignoreClicks:Boolean,circles:Array},emits:["click"],setup(n,{emit:t}){const i=n,r=y("activePlayerList"),s=$(null),o=549,l=320;function u(h){if(!i.ignoreClicks){var d=h.target.getBoundingClientRect(),b=getComputedStyle(s.value),f=h.clientX-d.left,g=h.clientY-d.top;f/=parseInt(b.getPropertyValue("width")),g/=parseInt(b.getPropertyValue("height")),i.circles[0].x=Math.round(f*100),i.circles[0].y=Math.round(g*50),t("click")}}return(h,d)=>(c(),_("div",null,[(c(),_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${o} ${l}`,ref_key:"court",ref:s,onClick:u,style:ve({cursor:n.ignoreClicks?"initial":(!n.requireActive||a(r).length)>0?"crosshair":"not-allowed"})},[Ft,n.hideCircles?q("",!0):(c(!0),_(L,{key:0},B(n.circles,b=>(c(),_("circle",{key:b,cx:b.x/100*o,cy:b.y/50*l,r:"10",fill:`var(${b.missed===!1?"--bs-success":"--bs-primary"})`,class:"pe-none"},null,8,Yt))),128))],12,jt))]))}},Ut={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 512 512"},Wt=e("path",{d:"M500 384c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v308h436zM372.7 159.5L288 216l-85.3-113.7c-5.1-6.8-15.5-6.3-19.9 1L96 248v104h384l-89.9-187.8c-3.2-6.5-11.4-8.7-17.4-4.7z",fill:"currentColor"},null,-1),Jt=[Wt];function Kt(n,t){return c(),_("svg",Ut,Jt)}var ce={name:"fa-solid-chart-area",render:Kt};const Xt=["id"],Qt={class:"modal-dialog"},Zt={class:"modal-content"},es={class:"modal-header text-white bg-secondary justify-content-start"},ts={class:"modal-body"},ss={class:"table table-striped"},os=e("thead",null,[e("tr",null,[e("th",null,"Shot type"),e("th",null,"Made shots"),e("th",null,"Total")])],-1),ns=e("td",null,"Free throw",-1),as=e("td",null,"Two pointer",-1),is=e("td",null,"Three pointer",-1),cs={class:"modal-footer bg-light"},ls=["disabled"],rs=p("Close "),ds={props:{index:Number,name:String,id:Number,shots:Array},setup(n){const t=n;y("apiCall");const i=y("state"),r=$(null),s=R(()=>{const l=G([]);for(let u of t.shots)u.game_id==i.currentGame.id&&l.push(u);return l});function o(l,u){let h=0;for(let d of t.shots)d.points==l&&d.game_id==i.currentGame.id&&(u||!d.missed)&&h++;return h}return(l,u)=>{const h=ce,d=Q,b=ie;return c(),_("div",{class:"modal fade",id:`stats-player-${n.id}`},[e("div",Qt,[e("div",Zt,[e("div",es,[v(h,{class:"me-1"}),p(" Stats for "+x(n.name),1)]),e("div",ts,[v(d,{class:"bg-secondary p-1 mb-2","ignore-clicks":"",circles:a(s)},null,8,["circles"]),e("table",ss,[os,e("tbody",null,[e("tr",null,[ns,e("td",null,x(o(1,!1)),1),e("td",null,x(o(1,!0)),1)]),e("tr",null,[as,e("td",null,x(o(2,!1)),1),e("td",null,x(o(2,!0)),1)]),e("tr",null,[is,e("td",null,x(o(3,!1)),1),e("td",null,x(o(3,!0)),1)])])])]),e("div",cs,[e("button",{class:"btn btn btn-secondary","data-bs-dismiss":"modal",ref_key:"closeDeleteModal",ref:r,disabled:a(i).requestPending},[v(b),rs],8,ls)])])])],8,Xt)}}},_s={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 512 512"},us=e("path",{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69L432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z",fill:"currentColor"},null,-1),ms=[us];function hs(n,t){return c(),_("svg",_s,ms)}var ps={name:"fa-solid-check",render:hs};const vs={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 640 512"},fs=e("path",{d:"M624 208H432c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h192c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z",fill:"currentColor"},null,-1),bs=[fs];function gs(n,t){return c(),_("svg",vs,bs)}var Z={name:"fa-solid-user-minus",render:gs};const $s=["id"],ys={class:"modal-dialog"},ws={class:"modal-content"},xs={class:"modal-header text-white bg-secondary justify-content-start"},ks={class:"modal-body"},Ss=p(" Are you sure you want to "),Ms=e("b",{class:"text-danger"},"delete",-1),Cs={class:"modal-footer bg-light"},Ls=["disabled"],Ps={key:0,class:"spinner-border spinner-border-sm"},Vs=p("Delete "),Bs=["disabled"],Rs=p("Cancel "),le={props:{index:Number,name:String,id:Number,type:String},setup(n){const t=n,i=y("apiCall"),r=y("state"),s=$(null);function o(){t.type==="player"?h():t.type==="game"?u():d()}const l=R(()=>`${t.type} ${t.name}`);async function u(){await i(`/games/${t.id}`,{method:"DELETE"}),r.usersGames.splice(t.index,1),s.value.click()}async function h(){await i(`/players/${t.id}`,{method:"DELETE"}),r.players.splice(t.index,1),s.value.click()}async function d(){await i(`/teams/${t.id}`,{method:"DELETE"}),r.userTeams.splice(t.index,1),s.value.click()}return(b,f)=>{const g=Z,m=ps,k=ie;return c(),_("div",{class:"modal fade",id:`delete-${n.type}-${n.id}`},[e("div",ys,[e("div",ws,[e("div",xs,[v(g,{class:"me-1"}),p(" Delete "+x(n.name),1)]),e("div",ks,[Ss,Ms,p(" this "+x(a(l))+"? ",1)]),e("div",Cs,[e("button",{class:"btn btn btn-primary",onClick:o,disabled:a(r).requestPending},[a(r).requestPending==`DELETE /players/${n.id}`?(c(),_("span",Ps)):(c(),C(m,{key:1})),Vs],8,Ls),e("button",{class:"btn btn btn-secondary","data-bs-dismiss":"modal",ref_key:"closeDeleteModal",ref:s,disabled:a(r).requestPending},[v(k),Rs],8,Bs)])])])],8,$s)}}},zs={class:"modal fade"},qs={class:"modal-dialog"},Ts={class:"modal-content"},As=e("div",{class:"modal-header bg-secondary text-white"},[e("h5",{class:"modal-title"},"Record Shot")],-1),Ns={class:"modal-body"},Gs=e("p",{class:"text-primary text-center"},"The red circle shows where the shot was made from.",-1),Is=["onSubmit"],Os=["disabled"],Es=e("b",null,"Which player threw the shot?",-1),Ds=["id","value"],Hs=["for"],js=e("hr",null,null,-1),Fs=e("b",null,"What kind of shot was it?",-1),Ys={class:"row"},Us={class:"col-12 col-md-auto"},Ws={class:"form-check"},Js=e("label",{for:"shotRadioFreeThrow",class:"form-check-label"},"Free throw",-1),Ks={class:"col-12 col-md-auto"},Xs={class:"form-check"},Qs=e("label",{for:"shotRadio2Pointer",class:"form-check-label"},"2 pointer",-1),Zs={class:"col-12 col-md-auto"},eo={class:"form-check"},to=e("label",{for:"shotRadio3Pointer",class:"form-check-label"},"3 pointer",-1),so=e("hr",null,null,-1),oo={class:"form-check"},no=e("label",{for:"shotCheckboxMissed",class:"form-check-label"},"Shot was missed",-1),ao={class:"modal-footer bg-light"},io=["disabled"],co={key:0,class:"spinner-border spinner-border-sm"},lo=p(" Record Shot "),ro=["disabled"],_o={setup(n){const t=y("activePlayerList"),i=y("apiCall"),r=y("state"),s=y("newShot");$(null);const o=$(null),l=$(null),u=$(!1),h=$(0);async function d(){s.game_id=r.currentGame.id;let b=await i(`/players/${h.value}/shots/new`,{method:"POST",body:JSON.stringify(s)}).then(f=>f.json());r.players.find(f=>f.id==h.value).shots=b.shots,s.x=0,s.y=0,s.missed=!0,s.game_id=r.currentGame.id,s.points=0,h.value=0,l.value.click(),u.value=!1}return(b,f)=>{const g=Q;return c(),_("div",zs,[e("div",qs,[e("div",Ts,[As,e("div",Ns,[v(g,{class:"p-1 bg-primary mb-2",circles:[a(s)]},null,8,["circles"]),Gs,e("form",{ref_key:"form",ref:o,onSubmit:H(d,["prevent"]),id:"shotForm",onInput:f[5]||(f[5]=m=>u.value=o.value.checkValidity())},[e("fieldset",{disabled:a(r).requestPending},[Es,(c(!0),_(L,null,B(a(t),m=>(c(),_("div",{class:"form-check",key:m.id},[M(e("input",{required:"",id:`shotRadioPlayer${m.id}`,class:"form-check-input",type:"radio",value:m.id,name:"player","onUpdate:modelValue":f[0]||(f[0]=k=>h.value=k)},null,8,Ds),[[j,h.value]]),e("label",{for:`shotRadioPlayer${m.id}`,class:"form-check-label"},x(m.name),9,Hs)]))),128)),js,Fs,e("div",Ys,[e("div",Us,[e("div",Ws,[M(e("input",{id:"shotRadioFreeThrow",required:"",type:"radio",class:"form-check-input",value:"1","onUpdate:modelValue":f[1]||(f[1]=m=>a(s).points=m),name:"points"},null,512),[[j,a(s).points]]),Js])]),e("div",Ks,[e("div",Xs,[M(e("input",{id:"shotRadio2Pointer",required:"",type:"radio",class:"form-check-input",value:"2","onUpdate:modelValue":f[2]||(f[2]=m=>a(s).points=m),name:"points"},null,512),[[j,a(s).points]]),Qs])]),e("div",Zs,[e("div",eo,[M(e("input",{id:"shotRadio3Pointer",required:"",type:"radio",class:"form-check-input",value:"3","onUpdate:modelValue":f[3]||(f[3]=m=>a(s).points=m),name:"points"},null,512),[[j,a(s).points]]),to])])]),so,e("div",oo,[M(e("input",{id:"shotCheckboxMissed",type:"checkbox",class:"form-check-input","onUpdate:modelValue":f[4]||(f[4]=m=>a(s).missed=m)},null,512),[[oe,a(s).missed]]),no])],8,Os)],40,Is)]),e("div",ao,[e("button",{disabled:!u.value||a(r).requestPending,class:"btn btn-primary",form:"shotForm",type:"submit"},[a(r).requestPending==`POST /players/${h.value}/shots/new`?(c(),_("div",co)):q("",!0),lo],8,io),e("button",{disabled:a(r).requestPending,type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal","data-bs-target":"#shotModal",ref_key:"closeButton",ref:l}," Cancel ",8,ro)])])])])}}},uo={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 448 512"},mo=e("path",{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",fill:"currentColor"},null,-1),ho=[mo];function po(n,t){return c(),_("svg",uo,ho)}var vo={name:"fa-solid-plus",render:po};const fo={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 448 512"},bo=e("path",{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",fill:"currentColor"},null,-1),go=[bo];function $o(n,t){return c(),_("svg",fo,go)}var yo={name:"fa-solid-minus",render:$o};const wo={class:"col-md-6"},xo={class:"border bg-light p-1 clearfix rounded shadow-sm mb-1"},ko={class:"lead"},So=p(" Points: "),Mo={key:0},Co=p(" Shots: made "),Lo=p(" out of "),Po={key:1},Vo=p(" Shots: "),Bo=e("b",{class:"text-muted"},"None",-1),Ro=[Vo,Bo],zo={class:"row gx-1"},qo={class:"col d-grid"},To=["disabled","data-bs-target"],Ao=p("Delete "),No={class:"col d-grid"},Go=["data-bs-target"],Io=p("Stats "),Oo={class:"col d-grid"},Eo=["disabled"],Do={key:0},Ho=p("Deactivate"),jo={key:1},Fo=p("Activate"),Yo={props:{name:String,id:Number,index:Number,shots:Array},setup(n){const t=n,i=y("state");y("apiCall");const r=y("activePlayerList"),s=R(function(){let u={total:0,shots:0,madeShots:0};if(t.shots!==void 0)for(let h of t.shots)h.game_id==i.currentGame.id&&(u.shots++,h.missed||(u.madeShots++,u.total+=h.points));return u}),o=R(()=>i.players[t.index]);function l(){o.value.active=!o.value.active}return(u,h)=>{const d=Z,b=ce,f=yo,g=vo;return c(),_("div",wo,[e("div",xo,[e("span",ko,x(n.name),1),e("div",null,[So,e("b",null,x(a(s).total),1)]),a(s).shots>0?(c(),_("div",Mo,[Co,e("b",null,x(a(s).madeShots),1),Lo,e("b",null,x(a(s).shots),1)])):(c(),_("div",Po,Ro)),e("div",zo,[e("div",qo,[e("button",{disabled:a(i).requestPending,class:"btn btn-sm btn-danger","data-bs-toggle":"modal","data-bs-target":`#delete-player-${n.id}`},[v(d),Ao],8,To)]),e("div",No,[e("button",{class:"btn btn-sm btn-info","data-bs-toggle":"modal","data-bs-target":`#stats-player-${n.id}`},[v(b),Io],8,Go)]),e("div",Oo,[e("button",{class:N(["btn btn-sm",a(o).active?"btn-success":"btn-secondary"]),disabled:a(i).requestPending||a(r).length>=5&&!a(o).active,onClick:l},[a(o).active?(c(),_("div",Do,[v(f),Ho])):(c(),_("div",jo,[v(g),Fo]))],10,Eo)])])])])}}},Uo={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 640 512"},Wo=e("path",{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z",fill:"currentColor"},null,-1),Jo=[Wo];function Ko(n,t){return c(),_("svg",Uo,Jo)}var re={name:"fa-solid-user-plus",render:Ko};const ee=n=>(K("data-v-b8590ebe"),n=n(),X(),n),Xo={class:"container pb-3"},Qo=ee(()=>e("h1",{class:"mt-2 text-secondary text-center"},[e("b",{class:"text-primary"},"FOHS"),p(" ScoreTracker ")],-1)),Zo={class:"text-center"},en=ee(()=>e("div",{class:"text-muted text-center"},"Tap a spot on the court to record a shot there.",-1)),tn=ee(()=>e("hr",null,null,-1)),sn=p(" Players "),on=["onSubmit"],nn=["disabled"],an=["disabled"],cn={key:0,class:"spinner-border spinner-border-sm"},ln={class:"row g-2 position-relative"},rn={setup(n){const t=y("state"),i=y("apiCall"),r=y("transitionListFix"),s=$(null),o=G({name:""}),l=G({x:0,y:0,points:0,game_id:0,missed:!0});I("newShot",l);const u=R(()=>(t.players||[]).filter(g=>g.active===!0));I("activePlayerList",u),O(async function(){let g=await i("/games/"+t.currentGame.id).then(m=>m.json());t.players=g.team.players});const h=R(function(){switch(u.value.length){case 0:return"danger";case 5:return"success";default:return"muted"}});async function d(){let g=await i("/players/new",{method:"POST",body:JSON.stringify(o)}).then(m=>m.json());o.name="",await i(`/teams/${t.currentGame.team.id}`,{method:"PATCH",body:b(g)}),t.players.push(g)}function b(g){let m=[],k=[],P=t.currentGame.team.name;return k.push(g.id),t.currentGame.team.coaches.forEach(V=>{console.log(V.id),m.push(V.id)}),t.currentGame.team.players.forEach(V=>{k.push(V.id)}),t.currentGame.team.name,JSON.stringify({name:P,coaches:m,players:k})}function f(){u.value.length>0&&s.value.click()}return(g,m)=>{const k=_e,P=Q,V=re,Y=Yo,U=_o,W=le,J=ds;return c(),_(L,null,[v(k),e("div",Xo,[Qo,e("div",Zo,[v(P,{"require-active":"","hide-circles":"",circles:[a(l)],class:"d-inline-block bg-dark p-1 mw-100 col-12 col-lg-6 mb-2 shadow",onClick:f},null,8,["circles"])]),en,tn,e("h2",null,[sn,e("small",{class:N("text-"+a(h))},"("+x(a(u).length)+" active)",3)]),e("form",{onSubmit:H(d,["prevent"]),class:"input-group mb-2"},[M(e("input",{disabled:a(t).requestPending=="POST /players/new",required:"",class:"form-control",placeholder:"New player name","onUpdate:modelValue":m[0]||(m[0]=S=>a(o).name=S)},null,8,nn),[[T,a(o).name,void 0,{trim:!0}]]),e("button",{disabled:!a(o).name||a(t).requestPending,type:"submit",class:"btn btn-primary",title:"Add a player"},[a(t).requestPending=="POST /players/new"?(c(),_("span",cn)):(c(),C(V,{key:1}))],8,an)],40,on),e("div",ln,[v(ne,{name:"players",onBeforeLeave:a(r)},{default:A(()=>[(c(!0),_(L,null,B(a(t).players,(S,w)=>(c(),C(Y,E(S,{key:S.id,index:w,shots:S.shots}),null,16,["index","shots"]))),128))]),_:1},8,["onBeforeLeave"])])]),e("button",{class:"d-none","data-bs-toggle":"modal","data-bs-target":"#shotModal",ref_key:"shotModalButton",ref:s},null,512),v(U,{id:"shotModal"}),(c(!0),_(L,null,B(a(t).players,(S,w)=>(c(),C(W,E(S,{key:S.id,index:w,type:"player"}),null,16,["index"]))),128)),(c(!0),_(L,null,B(a(t).players,(S,w)=>(c(),C(J,E(S,{key:S.id,index:w,shots:S.shots}),null,16,["index","shots"]))),128))],64)}}};var de=F(rn,[["__scopeId","data-v-b8590ebe"]]);const dn=n=>(K("data-v-ca05fffe"),n=n(),X(),n),_n={id:"sideMenuButton",class:"text-muted p-2 position-fixed start-0 top-0","data-bs-toggle":"offcanvas",href:"#sideMenu"},un={class:"offcanvas offcanvas-start",tabindex:"-1",id:"sideMenu"},mn={class:"offcanvas-header bg-light border-bottom"},hn=dn(()=>e("h5",{class:"offcanvas-title fw-bold"},"Menu",-1)),pn={class:"p-2"},vn={class:"mb-2 fs-4 fw-bold text-truncate text-center"},fn={class:"row gy-2"},bn={class:"col-12 d-grid"},gn=["disabled"],$n=p("Home"),yn={class:"col-12 d-grid"},wn=["disabled"],xn=p("Game "),kn={class:"col-12 d-grid"},Sn={disabled:"",class:"btn btn-secondary"},Mn=p("Settings"),Cn={class:"col-12 d-grid"},Ln=["disabled"],Pn={key:0,class:"spinner-border spinner-border-sm"},Vn=p("Logout "),Bn={setup(n){const t=y("apiCall"),i=y("state"),r=$(null),s=$({});O(async function(){s.value=await t("/users/me").then(h=>h.json())});function o(){i.currentScreen=z(te),r.value.click()}function l(){i.currentScreen=z(de),r.value.click()}async function u(){await t("/token/revoke",{method:"POST"}),r.value.click(),localStorage.removeItem("score-tracker-session"),sessionStorage.removeItem("score-tracker-session"),i.token=null,i.currentScreen=z(ue)}return(h,d)=>{const b=ae,f=Gt,g=zt,m=Lt,k=xt,P=bt;return c(),_(L,null,[e("a",_n,[v(b)]),e("div",un,[e("div",mn,[hn,e("button",{ref_key:"close",ref:r,type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,512)]),e("div",pn,[e("div",vn,[v(f,{class:"text-secondary"}),p(" "+x(s.value.name),1)]),e("div",fn,[e("div",bn,[e("button",{disabled:a(i).requestPending,class:"btn btn-secondary",onClick:o},[v(g),$n],8,gn)]),e("div",yn,[e("button",{disabled:a(i).requestPending||!a(i).isCurrentGameSet,class:"btn btn-primary",onClick:l},[v(m),xn],8,wn)]),e("div",kn,[e("button",Sn,[v(k),Mn])]),e("div",Cn,[e("button",{disabled:a(i).requestPending,class:"btn btn-danger",onClick:u},[a(i).requestPending=="POST /token/revoke"?(c(),_("span",Pn)):(c(),C(P,{key:1})),Vn],8,Ln)])])])])],64)}}};var _e=F(Bn,[["__scopeId","data-v-ca05fffe"]]);const Rn={class:"col-md-6"},zn={class:"border bg-white p-1 clearfix rounded shadow-sm"},qn={class:"lead"},Tn=p(" points made: "),An={class:"row gx-1"},Nn={class:"col d-grid"},Gn=["disabled","data-bs-target"],In=p("Delete Team "),On={class:"col d-grid"},En=["disabled"],Dn={props:{gameName:String,playerList:Object,id:Number,gameData:Object},setup(n){const t=n;y("apiCall");const i=y("state");function r(o){i.currentGame=o,i.isCurrentGameSet=!0,i.currentScreen=z(de),console.log("game is pressed")}const s=R(()=>{let o=0;return t.playerList.forEach(l=>{l.shots.forEach(u=>{u.game_id===t.gameData.id&&!u.missed&&(o+=u.points)})}),o});return(o,l)=>{const u=Z;return c(),_("div",Rn,[e("div",zn,[e("span",qn,x(n.gameName),1),e("div",null,[Tn,e("b",null,x(a(s)),1)]),e("div",An,[e("div",Nn,[e("button",{disabled:a(i).requestPending,class:"btn btn-sm btn-danger","data-bs-toggle":"modal","data-bs-target":`#delete-game-${n.id}`},[v(u),In],8,Gn)]),e("div",On,[e("button",{disabled:a(i).requestPending,class:"btn btn-sm btn-secondary",onClick:l[0]||(l[0]=h=>r(n.gameData))},"select",8,En)])])])])}}},Hn={class:"modal fade"},jn={class:"modal-dialog"},Fn={class:"modal-content"},Yn={class:"modal-header text-white bg-secondary justify-content-start"},Un=p("Add a Game"),Wn={class:"modal-body"},Jn=["onSubmit"],Kn=["disabled"],Xn={class:"form-check"},Qn=e("label",{for:"gameNameInput",class:"form-check-label"},"Game Name",-1),Zn=e("br",null,null,-1),ea=e("label",{for:"otherTeamName",class:"form-check-label"},"Other Team",-1),ta={class:"modal-footer bg-light"},sa=["disabled"],oa={key:0,class:"spinner-border spinner-border-sm"},na=p(" Create game "),aa=["disabled"],ia={setup(n){const t=$(!1),i=$(null),r=y("apiCall"),s=y("state"),o=G({name:"",team_id:0,other_team:"",data:""}),l=$(null);async function u(){o.data=Date.now().toString(),o.team_id=s.teamId;const h=await r("/games/new",{method:"POST",body:JSON.stringify(o)}).then(d=>d.json());s.usersGames.push(h),l.value.click(),t.value=!1}return(h,d)=>{const b=re;return c(),_("div",Hn,[e("div",jn,[e("div",Fn,[e("div",Yn,[v(b,{class:"me-1"}),Un]),e("div",Wn,[e("form",{ref_key:"form",ref:i,onSubmit:H(u,["prevent"]),id:"gameForm",onInput:d[2]||(d[2]=f=>t.value=i.value.checkValidity())},[e("fieldset",{disabled:a(s).requestPending},[e("div",Xn,[Qn,M(e("input",{required:"",type:"text",class:"form-control","onUpdate:modelValue":d[0]||(d[0]=f=>a(o).name=f)},null,512),[[T,a(o).name]]),Zn,ea,M(e("input",{required:"",type:"text",id:"otherTeamName","onUpdate:modelValue":d[1]||(d[1]=f=>a(o).other_team=f),class:"form-control"},null,512),[[T,a(o).other_team]])])],8,Kn)],40,Jn)]),e("div",ta,[e("button",{disabled:!t.value||a(s).requestPending,class:"btn btn-primary",form:"gameForm",type:"submit"},[a(s).requestPending=="POST /games/new"?(c(),_("div",oa)):q("",!0),na],8,sa),e("button",{disabled:a(s).requestPending,type:"button",class:"btn btn-outline-secondary",ref_key:"closeButton",ref:l,"data-bs-dismiss":"modal","data-bs-target":"#addTeam"}," Cancel ",8,aa)])])])])}}};const ca={class:"container"},la=e("h1",{class:"mt-2 text-secondary text-center"},"Your games",-1),ra={class:"row g-2 position-relative"},da={id:"addPlayerBtn","data-bs-toggle":"modal","data-bs-target":"#addTeam",class:"btn btn-danger rounded-circle"},te={setup(n){const t=y("state"),i=y("apiCall"),r=$({}),s=$([]);return t.usersGames=[],t.team=0,O(async function(){r.value=await i("/users/me").then(o=>o.json()),s.value=await i("/games").then(o=>o.json());for(let o of s.value)t.teamId=o.team.id,o.team.coaches.forEach(l=>{l.id==r.value.id&&t.usersGames.push(o)})}),(o,l)=>{const u=_e,h=mt;return c(),_(L,null,[e("div",ca,[v(u),la,e("div",ra,[v(ne,{name:"Game",onBeforeLeave:o.beforeLeave},{default:A(()=>[(c(!0),_(L,null,B(a(t).usersGames,d=>(c(),C(Dn,E(d,{key:d.id,gameName:d.name,id:d.id,gameData:d,playerList:d.team.players}),null,16,["gameName","id","gameData","playerList"]))),128))]),_:1},8,["onBeforeLeave"])]),e("button",da,[v(h)])]),(c(!0),_(L,null,B(a(t).usersGames,(d,b)=>(c(),C(le,E(d,{key:d.id,index:b,type:"game"}),null,16,["index"]))),128)),v(ia,{id:"addTeam"})],64)}}};const D=n=>(K("data-v-a485abfe"),n=n(),X(),n),_a={class:"h-100 d-flex align-items-center",novalidate:""},ua=["onSubmit"],ma=D(()=>e("h1",{class:"fw-light text-center"},[p(" Welcome to "),e("br",{class:"d-md-none"}),e("b",null,"FOHS ScoreTracker")],-1)),ha=D(()=>e("hr",null,null,-1)),pa=p("Can't connect to server. "),va=["disabled"],fa={class:"mb-3"},ba={class:"form-label"},ga=p("Email "),$a=D(()=>e("div",{class:"invalid-feedback"},"Account does not exist.",-1)),ya={class:"mb-1 mb-md-2"},wa={class:"form-label"},xa=p("Password "),ka=D(()=>e("span",{class:"invalid-feedback"},"Incorrect password.",-1)),Sa={class:"d-flex justify-content-between mb-1 mb-md-2"},Ma={class:"form-check col-auto mb-0"},Ca=D(()=>e("label",{class:"form-check-label",for:"rememberMe"},"Remember me",-1)),La={class:"d-flex flex-wrap"},Pa=["disabled"],Va={key:0,class:"spinner-border spinner-border-sm"},Ba=p("Login "),Ra=["disabled"],za=p("Settings "),qa={class:"collapse rounded border shadow-sm mt-2 p-2",id:"loginSettings"},Ta={class:"text-danger text-center mb-1"},Aa=p("Developer Options"),Na={class:"form-label"},Ga=p("API Base "),Ia={setup(n){const t=y("apiCall"),i=y("state"),r=$(null),s=$(""),o=$(""),l=$(!1),u=$(!1),h=$(!1),d=$(""),b=$(!1);async function f(){d.value="";let g=new FormData;g.append("username",s.value),g.append("password",o.value);try{var m=await t("/token",{method:"POST",body:g})}catch{u.value=!0}var k=await m.json();if(!m.ok)k.detail.toLowerCase().includes("password")?d.value="password":d.value="email";else{i.token=k.access_token;const P=JSON.stringify({host:i.apiBase,token:i.token});b.value?localStorage.setItem("score-tracker-session",P):sessionStorage.setItem("score-tracker-session",P),l.value=!1}}return O(function(){document.body.classList.remove("bg-light"),document.body.classList.add("bg-primary"),l.value=!0}),fe(function(){document.body.classList.remove("bg-primary"),document.body.classList.add("bg-light")}),(g,m)=>{const k=lt,P=ot,V=et,Y=Je,U=je,W=ae,J=Te,S=Ve;return c(),_(L,null,[e("div",_a,[v(se,{name:"welcome",onAfterLeave:m[7]||(m[7]=w=>a(i).currentScreen=z(te))},{default:A(()=>[l.value?(c(),_("form",{key:0,onInput:m[6]||(m[6]=w=>h.value=r.value.checkValidity()),onSubmit:H(f,["prevent"]),ref_key:"form",ref:r,class:"mx-auto bg-light border rounded p-3 shadow-lg col-11 col-md-auto"},[ma,ha,v(P,{class:"position-absolute top-0 start-0 end-0 m-1",type:"danger",modelValue:u.value,"onUpdate:modelValue":m[0]||(m[0]=w=>u.value=w)},{default:A(()=>[v(k,{class:"fs-5 me-2"}),pa]),_:1},8,["modelValue"]),e("fieldset",{disabled:a(i).requestPending},[e("div",fa,[e("label",ba,[v(V),ga]),M(e("input",{required:"","onUpdate:modelValue":m[1]||(m[1]=w=>s.value=w),placeholder:"Enter your email",type:"email",class:N(["form-control",{"is-invalid":d.value=="email"}])},null,2),[[T,s.value]]),$a]),e("div",ya,[e("label",wa,[v(Y),xa]),M(e("input",{required:"",type:"password",placeholder:"Enter your password","onUpdate:modelValue":m[2]||(m[2]=w=>o.value=w),class:N(["form-control",{"is-invalid":d.value=="password"}])},null,2),[[T,o.value]]),ka]),e("div",Sa,[e("div",Ma,[M(e("input",{"onUpdate:modelValue":m[3]||(m[3]=w=>b.value=w),type:"checkbox",class:"form-check-input",id:"rememberMe"},null,512),[[oe,b.value]]),Ca]),e("a",{href:"#",onClick:m[4]||(m[4]=w=>g.showRestToast=!0)},"reset password")]),e("div",La,[e("button",{disabled:!h.value||a(i).requestPending,type:"submit",class:"btn btn-primary col-md-auto col-12 mb-2 mb-md-0 me-0 me-md-2"},[a(i).requestPending=="POST /token"?(c(),_("span",Va)):(c(),C(U,{key:1})),Ba],8,Pa),e("button",{disabled:a(i).requestPending,type:"button",class:"btn btn-secondary col-md-auto col-12","data-bs-toggle":"collapse","data-bs-target":"#loginSettings"},[v(W),za],8,Ra)]),e("div",qa,[e("div",Ta,[v(k),Aa]),e("label",Na,[v(J),Ga]),M(e("input",{type:"url",class:"form-control font-monospace",required:"","onUpdate:modelValue":m[5]||(m[5]=w=>a(i).apiBase=w)},null,512),[[T,a(i).apiBase]])])],8,va)],40,ua)):q("",!0)]),_:1})]),v(S)],64)}}};var ue=F(Ia,[["__scopeId","data-v-a485abfe"]]);const Oa={key:1,class:"d-flex flex-column align-items-center justify-content-center h-100 bg-primary bg-gradient text-white"},Ea=e("div",{class:"fw-bold fs-5"},"FOHS ScoreTracker is loading...",-1),Da=e("span",{class:"mt-2 spinner-border"},null,-1),Ha=[Ea,Da],ja={setup(n){const t=G({apiBase:"https://fohs-score-tracker.herokuapp.com",requestPending:null,token:null,currentGame:null,isCurrentGameSet:!1,teamId:null});async function i(s,o={}){o.headers||(o.headers={}),o.method||(o.method="GET"),t.token&&(o.headers.Authorization="Bearer "+t.token),t.requestPending=`${o.method} ${s}`;try{var l=await fetch(t.apiBase+s,o)}catch(u){throw t.requestPending=null,u}return t.requestPending=null,l}I("state",t),I("apiCall",i),I("transitionListFix",function(s){const{marginLeft:o,marginTop:l,width:u,height:h}=window.getComputedStyle(s);s.style.left=`${s.offsetLeft-parseFloat(o,10)}px`,s.style.top=`${s.offsetTop-parseFloat(l,10)}px`,s.style.width=u,s.style.height=h}),O(async function(){await r(sessionStorage)||await r(localStorage)?t.currentScreen=z(te):t.currentScreen=z(ue)});async function r(s){let o=JSON.parse(s.getItem("score-tracker-session"));if(o==null)return!1;let{host:l,token:u}=o;return t.apiBase=l,t.token=u,(await i("/users/me")).ok?!0:(t.apiBase="https://fohs-score-tracker.herokuapp.com",t.token=null,!1)}return(s,o)=>a(t).currentScreen!=null?(c(),C(be(a(t).currentScreen),{key:0})):(c(),_("div",Oa,Ha))}};window.addEventListener("load",function(){ge(ja).mount("#app")});
