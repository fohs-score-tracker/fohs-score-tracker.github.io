import{o as e,c as t,a as s,p as l,b as a,u as o,r as n,d as r,T as i,w as c,e as d,f as u,i as m,t as p,g as h,F as v,h as w,j as b,v as g,k as f,l as y,m as x,n as k,q as S,s as C,x as M,y as P,z as V,A as q,B as z}from"./vendor.e4c99d87.js";const B={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 576 512"},R=s("path",{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46s46-20.595 46-46s-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z",fill:"currentColor"},null,-1);var L={render:function(s,l){return e(),t("svg",B,[R])}};const A=c();l("data-v-3e290189");const H=d("Something went wrong");a();const T={expose:[],props:{type:String,modelValue:Boolean},emits:["update:modelValue"],setup(l,{emit:a}){const c=l;return(d,u)=>(e(),t(i,{name:"alert"},{default:A((()=>[l.modelValue?(e(),t("div",{key:0,class:["alert alert-dismissible d-flex align-items-center",["alert-"+o(c).type]]},[n(d.$slots,"default",{},(()=>[H]),{}),s("button",{type:"button",class:"btn-close",onClick:u[1]||(u[1]=e=>a("update:modelValue",!1))})],2)):r("",!0)])),_:3}))},__scopeId:"data-v-3e290189"},F={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 512 512"},E=s("path",{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7c22.4 17.4 52.1 39.5 154.1 113.6c21.1 15.4 56.7 47.8 92.2 47.6c35.7.3 72-32.8 92.3-47.6c102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4c132.7-96.3 142.8-104.7 173.4-128.7c5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9c30.6 23.9 40.7 32.4 173.4 128.7c16.8 12.2 50.2 41.8 73.4 41.4z",fill:"currentColor"},null,-1);var I={render:function(s,l){return e(),t("svg",F,[E])}};const $={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 512 512"},U=s("path",{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176C160 78.798 238.797.001 335.999 0C433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48s-21.49-48-48-48s-48 21.49-48 48z",fill:"currentColor"},null,-1);var _={render:function(s,l){return e(),t("svg",$,[U])}};const Y={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 512 512"},O=s("path",{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z",fill:"currentColor"},null,-1);var j={render:function(s,l){return e(),t("svg",Y,[O])}};const D={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 448 512"},N=s("path",{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z",fill:"currentColor"},null,-1);var W={render:function(s,l){return e(),t("svg",D,[N])}};const G={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 448 512"},J=s("path",{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z",fill:"currentColor"},null,-1);var X={render:function(s,l){return e(),t("svg",G,[J])}};const K=s("image",{href:"/assets/court.7a70df28.png",width:"100%",height:"100%"},null,-1),Q={expose:[],props:{showCircle:{type:Boolean}},emits:["click"],setup(s,{emit:l}){const a=u(null),n=m("courtWidth"),i=m("courtHeight");function c(e){var t=e.target.getBoundingClientRect();!function(e,t,s){t/=parseInt(e.getPropertyValue("width")),s/=parseInt(e.getPropertyValue("height")),d.x=Math.round(100*t),d.y=Math.round(50*s),l("click")}(getComputedStyle(a.value),e.clientX-t.left,e.clientY-t.top)}const d=m("newShot");return(l,u)=>(e(),t("div",null,[(e(),t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${o(n)} ${o(i)}`,ref:a,onClick:c},[K,s.showCircle?(e(),t("circle",{key:0,cx:o(d).x/100*o(n),cy:o(d).y/50*o(i),r:"15",fill:"var(--bs-primary)",class:"pe-none"},null,8,["cx","cy"])):r("",!0)],8,["viewBox"]))]))}},Z={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 640 512"},ee=s("path",{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z",fill:"currentColor"},null,-1);var te={render:function(s,l){return e(),t("svg",Z,[ee])}};const se={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 640 512"},le=s("path",{d:"M624 208H432c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h192c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z",fill:"currentColor"},null,-1);var ae={render:function(s,l){return e(),t("svg",se,[le])}};const oe={class:"col-md-6"},ne={class:"border bg-white p-1 clearfix rounded shadow-sm"},re={class:"lead"},ie=d(" ID: "),ce={class:"btn-group float-end"},de={key:0,class:"spinner-border spinner-border-sm"},ue={expose:[],props:{name:String,id:Number,index:Number,shots:Array},setup(l){const a=l,n=m("state"),r=m("apiCall");async function i(){await r(`/players/${a.id}`,{method:"DELETE"}),n.players.splice(a.index,1)}return(a,r)=>{const c=ae;return e(),t("div",oe,[s("div",ne,[s("span",re,p(l.name),1),s("div",null,[ie,s("b",null,p(l.id),1)]),s("div",ce,[s("button",{disabled:o(n).requestPending,class:"btn btn-danger",onClick:i,title:"Delete "+l.name},[o(n).requestPending==`DELETE /players/${l.id}`?(e(),t("span",de)):(e(),t(c,{key:1}))],8,["disabled","title"])])])])}}},me={class:"modal fade"},pe={class:"modal-dialog"},he={class:"modal-content"},ve=s("div",{class:"modal-header bg-secondary text-white"},[s("h5",{class:"modal-title"},"Record Shot")],-1),we={class:"modal-body"},be=s("p",{class:"text-primary text-center"},"The red circle shows where the shot was made from.",-1),ge=s("b",null,"Which player threw the shot?",-1),fe=s("hr",null,null,-1),ye=s("b",null,"What kind of shot was it?",-1),xe={class:"row"},ke={class:"col-12 col-md-auto"},Se={class:"form-check"},Ce=s("label",{for:"shotRadioFreeThrow",class:"form-check-label"},"Free throw",-1),Me={class:"col-12 col-md-auto"},Pe={class:"form-check"},Ve=s("label",{for:"shotRadio2Pointer",class:"form-check-label"},"2 pointer",-1),qe={class:"col-12 col-md-auto"},ze={class:"form-check"},Be=s("label",{for:"shotRadio3Pointer",class:"form-check-label"},"3 pointer",-1),Re=s("hr",null,null,-1),Le={class:"form-check"},Ae=s("label",{for:"shotCheckboxMissed",class:"form-check-label"},"Shot was missed",-1),He={class:"modal-footer bg-light"},Te={expose:[],setup(l){const a=m("state"),n=m("newShot");u(null);const r=u(null),i=u(null),c=u(!1),d=u(0);async function y(){console.info(JSON.stringify(n),d.value),i.value.click()}return(l,u)=>{const m=Q;return e(),t("div",me,[s("div",pe,[s("div",he,[ve,s("div",we,[s(m,{"show-circle":"",class:"p-1 bg-primary mb-2"}),be,s("form",{ref:r,onSubmit:h(y,["prevent"]),id:"shotForm",onInput:u[6]||(u[6]=e=>c.value=r.value.checkValidity())},[s("fieldset",{disabled:o(a).requestPending},[ge,(e(!0),t(v,null,w(o(a).players,(l=>(e(),t("div",{class:"form-check",key:l.id},[b(s("input",{required:"",id:`shotRadioPlayer${l.id}`,class:"form-check-input",type:"radio",value:l.id,name:"player","onUpdate:modelValue":u[1]||(u[1]=e=>d.value=e)},null,8,["id","value"]),[[g,d.value]]),s("label",{for:`shotRadioPlayer${l.id}`,class:"form-check-label"},p(l.name),9,["for"])])))),128)),fe,ye,s("div",xe,[s("div",ke,[s("div",Se,[b(s("input",{id:"shotRadioFreeThrow",required:"",type:"radio",class:"form-check-input",value:"1","onUpdate:modelValue":u[2]||(u[2]=e=>o(n).points=e),name:"points"},null,512),[[g,o(n).points]]),Ce])]),s("div",Me,[s("div",Pe,[b(s("input",{id:"shotRadio2Pointer",required:"",type:"radio",class:"form-check-input",value:"2","onUpdate:modelValue":u[3]||(u[3]=e=>o(n).points=e),name:"points"},null,512),[[g,o(n).points]]),Ve])]),s("div",qe,[s("div",ze,[b(s("input",{id:"shotRadio3Pointer",required:"",type:"radio",class:"form-check-input",value:"3","onUpdate:modelValue":u[4]||(u[4]=e=>o(n).points=e),name:"points"},null,512),[[g,o(n).points]]),Be])])]),Re,s("div",Le,[b(s("input",{id:"shotCheckboxMissed",type:"checkbox",class:"form-check-input","onUpdate:modelValue":u[5]||(u[5]=e=>o(n).missed=e)},null,512),[[f,o(n).missed]]),Ae])],8,["disabled"])],40,["onSubmit"])]),s("div",He,[s("button",{disabled:!c.value||o(a).requestPending,class:"btn btn-primary",form:"shotForm",type:"submit"}," Record Shot ",8,["disabled"]),s("button",{disabled:o(a).requestPending,type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal","data-bs-target":"#shotModal",ref:i}," Cancel ",8,["disabled"])])])])])}}};const Fe=c();l("data-v-70d576a9");const Ee={class:"container"},Ie=s("h1",{class:"mt-4 text-secondary text-center"},[s("b",{class:"text-primary"},"FOHS"),d(" ScoreTracker ")],-1),$e={class:"text-center"},Ue=s("div",{class:"text-muted text-center"},"Tap a spot on the court to record a shot there.",-1),_e=s("hr",null,null,-1),Ye=s("h2",null,"Players",-1),Oe={key:0,class:"spinner-border spinner-border-sm"},je={class:"row g-2 position-relative"};a();const De={expose:[],setup(l){const a=m("state"),n=m("apiCall"),r=m("transitionListFix"),i=u(null),c=y({name:""}),d=y({x:0,y:0,points:0,teamId:0,missed:!1});async function p(){let e=await n("/players/new",{method:"POST",body:JSON.stringify(c)}).then((e=>e.json()));c.name="",a.players.push(e)}function g(){i.value.click()}return x("courtWidth",549),x("courtHeight",320),x("newShot",d),k((async function(){a.players=await n("/players").then((e=>e.json()))})),(l,n)=>{const d=Q,u=te,m=ue,f=Te;return e(),t(v,null,[s("div",Ee,[Ie,s("div",$e,[s(d,{class:"d-inline-block bg-dark p-1 mw-100 col-12 col-lg-6 mb-2 shadow",onClick:g})]),Ue,_e,Ye,s("form",{onSubmit:h(p,["prevent"]),class:"input-group mb-2"},[b(s("input",{disabled:"POST /players/new"==o(a).requestPending,required:"",class:"form-control",placeholder:"New player name","onUpdate:modelValue":n[1]||(n[1]=e=>o(c).name=e)},null,8,["disabled"]),[[S,o(c).name,void 0,{trim:!0}]]),s("button",{disabled:!o(c).name||o(a).requestPending,type:"submit",class:"btn btn-primary",title:"Add a player"},["POST /players/new"==o(a).requestPending?(e(),t("span",Oe)):(e(),t(u,{key:1}))],8,["disabled"])],40,["onSubmit"]),s("div",je,[s(C,{name:"players",onBeforeLeave:o(r)},{default:Fe((()=>[(e(!0),t(v,null,w(o(a).players,((s,l)=>(e(),t(m,M(s,{key:s.id,index:l}),null,16,["index"])))),128))])),_:1},8,["onBeforeLeave"])])]),s("button",{class:"d-none","data-bs-toggle":"modal","data-bs-target":"#shotModal",ref:i},null,512),s(f,{id:"shotModal"})],64)}},__scopeId:"data-v-70d576a9"};const Ne=c();l("data-v-ebe2f6d0");const We={class:"vh-100 d-flex align-items-center",novalidate:""},Ge=s("h1",{class:"fw-light text-center"},[d(" Welcome to "),s("br",{class:"d-md-none"}),s("b",null,"FOHS ScoreTracker")],-1),Je=s("hr",null,null,-1),Xe=d(" Can't connect to server. "),Ke={class:"mb-3"},Qe={class:"form-label"},Ze=d(" Email "),et=s("div",{class:"invalid-feedback"},"Account does not exist.",-1),tt={class:"mb-1 mb-md-3"},st={class:"form-label"},lt=d(" Password "),at=s("span",{class:"invalid-feedback"},"Incorrect password.",-1),ot={class:"row m-0 align-items-center gy-2 gy-md-0"},nt=s("div",{class:"form-check col-auto order-2",title:"Currently unimplemented"},[s("input",{disabled:"",type:"checkbox",class:"form-check-input",id:"rememberMe"}),s("label",{class:"form-check-label",for:"rememberMe"},"Remember me")],-1),rt={key:0,class:"spinner-border spinner-border-sm"},it=d(" Login "),ct=d(" Settings "),dt={class:"collapse rounded border shadow-sm mt-2 p-2",id:"loginSettings"},ut={class:"text-danger text-center mb-1"},mt=d(" Developer Options"),pt={class:"form-label"},ht=d(" API Base ");a();const vt={expose:[],setup(l){const a=m("apiCall"),n=m("state"),c=u(null),d=u(""),p=u(""),v=u(!1),w=u(!1),g=u(!1),f=u("");async function y(){d.value,p.value,f.value="",n.authHeader="Basic "+btoa(`${d.value}:${p.value}`);try{var e=await a("/users/me")}catch{w.value=!0}var t=await e.json();401==e.status?t.detail.toLowerCase().includes("password")?f.value="password":f.value="email":v.value=!1}return k((function(){document.body.classList.remove("bg-light"),document.body.classList.add("bg-primary"),v.value=!0})),P((function(){document.body.classList.remove("bg-primary"),document.body.classList.add("bg-light")})),(l,a)=>{const u=L,m=T,x=I,k=_,C=j,M=W,P=X;return e(),t("div",We,[s(i,{name:"welcome",onAfterLeave:a[6]||(a[6]=e=>o(n).currentScreen=V(De))},{default:Ne((()=>[v.value?(e(),t("form",{key:0,onInput:a[5]||(a[5]=e=>g.value=c.value.checkValidity()),onSubmit:h(y,["prevent"]),ref:c,class:"mx-auto bg-light border rounded p-3 shadow-lg col-11 col-md-auto"},[Ge,Je,s(m,{class:"position-absolute top-0 start-0 end-0 m-1",type:"danger",modelValue:w.value,"onUpdate:modelValue":a[1]||(a[1]=e=>w.value=e)},{default:Ne((()=>[s(u,{class:"fs-5 me-2"}),Xe])),_:1},8,["modelValue"]),s("fieldset",{disabled:o(n).requestPending},[s("div",Ke,[s("label",Qe,[s(x),Ze]),b(s("input",{required:"","onUpdate:modelValue":a[2]||(a[2]=e=>d.value=e),placeholder:"Enter your email",type:"email",class:["form-control",{"is-invalid":"email"==f.value}]},null,2),[[S,d.value]]),et]),s("div",tt,[s("label",st,[s(k),lt]),b(s("input",{required:"",type:"password",placeholder:"Enter your password","onUpdate:modelValue":a[3]||(a[3]=e=>p.value=e),class:["form-control",{"is-invalid":"password"==f.value}]},null,2),[[S,p.value]]),at]),s("div",ot,[nt,s("button",{disabled:!g.value||o(n).requestPending,type:"submit",class:"col-12 col-md-auto btn btn-primary me-3 order-3 order-md-0"},["GET /users/me"==o(n).requestPending?(e(),t("span",rt)):(e(),t(C,{key:1})),it],8,["disabled"]),s("button",{disabled:o(n).requestPending,type:"button",class:"col-12 col-md-auto btn btn-secondary me-3 order-3 order-md-1","data-bs-toggle":"collapse","data-bs-target":"#loginSettings"},[s(M),ct],8,["disabled"])]),s("div",dt,[s("div",ut,[s(u),mt]),s("label",pt,[s(P),ht]),b(s("input",{type:"url",class:"form-control font-monospace",required:"","onUpdate:modelValue":a[4]||(a[4]=e=>o(n).apiBase=e)},null,512),[[S,o(n).apiBase]])])],8,["disabled"])],40,["onSubmit"])):r("",!0)])),_:1})])}},__scopeId:"data-v-ebe2f6d0"};z({expose:[],setup(s){const l=y({apiBase:"https://fohs-score-tracker.herokuapp.com",requestPending:null});return x("state",l),x("apiCall",(async function(e,t={}){t.headers||(t.headers={}),t.method||(t.method="GET"),t.headers.Authorization=l.authHeader,l.requestPending=`${t.method} ${e}`;try{var s=await fetch(l.apiBase+e,t)}catch(a){throw l.requestPending=null,a}return l.requestPending=null,s})),x("transitionListFix",(function(e){const{marginLeft:t,marginTop:s,width:l,height:a}=window.getComputedStyle(e);e.style.left=e.offsetLeft-parseFloat(t,10)+"px",e.style.top=e.offsetTop-parseFloat(s,10)+"px",e.style.width=l,e.style.height=a})),k((()=>l.currentScreen=V(vt))),(s,a)=>(e(),t(q(o(l).currentScreen)))}}).mount("#app");
